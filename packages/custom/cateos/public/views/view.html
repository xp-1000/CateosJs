<section data-ng-controller="VideosController" data-ng-init="findOne()">


  <div>
    <span>Added since {{video.created | date:'MM/dd/yyyy h:mm'}}</span> /
    <span>By {{video.user.name}}</span>
    <span data-ng-if="hasAuthorization(video)">
      <a  href="/#!/videos/{{video._id}}/edit">
        <i class="glyphicon glyphicon-edit"></i>
      </a>
      <a data-ng-click="remove(video);">
        <i class="glyphicon glyphicon-trash"></i>
      </a>
    </span>
  </div>

  <tabset>
    <tab heading="Details">
      <div class="row">
        <div class="col-md-3 col-xs-12 col-sm-12">
          <img class="video-pic" ng-src="{{video.details.images[0]}}" >
        </div>
        <div class="col-md-9">
          <h2>{{video.details.title}}</h2>
        </div>
        <div class="col-md-9">
          <rating ng-model="video.details.rate" max=10 readonly=true on-hover="hoveringOver(value)" on-leave="overStar = null"></rating>
          <span class="label" ng-class="{'label-warning': overStar<3, 'label-info': overStar>=3 && overStar<7, 'label-success': overStar>=7}" ng-show="overStar && !isReadonly">{{overStar}}</span>
        </div>
        <div class="col-md-5">
          <span class="description">Nationality</span> : <span ng-repeat="nationality in video.details.nationality" >{{nationality}}{{$last ? '' : ', '}}</span>
        </div>
        <div class="col-md-4">
          <span class="description">Release Date</span> : <span>{{video.details.releaseDate | date:'MM/dd/yyyy'}}</span>
        </div>
        <div class="col-md-5"> 
          <span class="description">Genres</span> : <span ng-repeat="genre in video.details.genres" >{{genre}}{{$last ? '' : ', '}}</span>
        </div>
        <div class="col-md-4">
          <span class="description">Director</span> : <span>{{video.details.director}}</span>
        </div>
        <div class="col-md-9"> 
          <span class="description">Stars</span> : <span ng-repeat="star in video.details.stars" >{{star}}{{$last ? '' : ', '}}</span>
        </div>
        <div class="col-md-8">
          <p class="paragraph">{{video.details.description}}</p>
        </div>
      </div> 
    </tab>
    <tab heading="Informations">
      <div class="row">
        <div class="col-md-12">
          <h3 class="category">General : </h3>
        <div>
        <div ng-repeat="info in infos">
          <div class="col-md-6">{{info}}</div>
          <div class="col-md-6">{{video.infos[info]}}</div>
        </div>
      </div>
      <div class="row" ng-repeat="(ivIndex, infoVideo) in infosVideo">
        <div class="col-md-12">
          <h3 class="category">Video track {{ivIndex}} : </h3>
        </div>
        <div class="col-md-12">
          <div ng-repeat="infoVideoTrack in infoVideo">
            <div class="col-md-6">{{infoVideoTrack}}</div>
            <div class="col-md-6">{{video.infos.video_tracks[ivIndex][infoVideoTrack]}}</div>
          </div>
        </div>
      </div>
      <div class="row" ng-repeat="(iaIndex, infoAudio) in infosAudio">
        <div class="col-md-12">
          <h3 class="category">Audio track {{iaIndex}} :</h3> 
        </div>
        <div class="col-md-12">
          <div ng-repeat="infoAudioTrack in infoAudio">
            <div class="col-md-6">{{infoAudioTrack}}</div>
            <div class="col-md-6">{{video.infos.audio_tracks[iaIndex][infoAudioTrack]}}</div>
          </div>
        </div>
      </div>
    </tab>
  </tabset>
<!--
  <div>
  <p> ddsdqsqsqd {{video.path}}</p>
    <video controls src="bower_components/small.mp4">Video</video>
  </div>


  <span>{{video.created | date:'medium'}}</span> /
  <span>{{video.user.name}}</span>
    <h2 >{{video.title}}</h2>
    <div  data-ng-if="hasAuthorization(video)">
      <a  href="/#!/videos/{{video._id}}/edit">
        <i class="glyphicon glyphicon-edit"></i>
      </a>
      <a data-ng-click="remove(video);">
        <i class="glyphicon glyphicon-trash"></i>
      </a>
    </div>

-->


</section>
